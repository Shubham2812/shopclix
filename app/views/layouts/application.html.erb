<!DOCTYPE html>
<html>
<head>
  <title>ShopclixBeta</title>
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
  <%= csrf_meta_tags %>

  	  <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <meta charset="utf-8">

      <!--Import Google Icon Font-->
      <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/css/materialize.css"  media="screen,projection"/>
      
      <!--Import jQuery before materialize.js-->
      <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

      <!--Import materialize.js-->
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/js/materialize.js"></script>

      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    
      <script src="https://use.fontawesome.com/e782fdb025.js"></script>

      <style type="text/css">
      	.navbar-fixed{ 
        	height: 150px;  
      	}
      
      .nav-wrapper{
        max-height:50px;
      }
      .row{
       
        padding-bottom: 0px;
        padding-top: 5px;
        padding-left: 0px;
        padding-right: 0px;
      }
      .dropdown-button:hover{
        color: red;
      }
      
      .logo{
        
        height:50px;
      }
      .side-nav{
        top:20;
      }
      body {
      display: flex;
      min-height: 100vh;
      flex-direction: column;
    }

	  main {
	    flex: 1 0 auto;
	  }
      input[type=text] {
    width: 100%;
    box-sizing: border-box;
    border: 2px solid #ccc;
    border-radius: 4px;
    font-size: 16px;
    height: 36px;
    color: red;
    background-color: white;
    /*background-image: url('searchicon.png');*/
    background-position: 10px 10px; 
    background-repeat: no-repeat;
    padding: 12px 20px 12px 40px;
    -webkit-transition: width 0.4s ease-in-out;
    transition: width 0.4s ease-in-out;
}
nav, nav .nav-wrapper i, nav a.button-collapse, nav a.button-collapse i {
    height: 30px;
    line-height: 33px;
}
#sidenav-overlay{
  z-index: 0;
}

      </style>
</head>
<body>

	<!--dropdown lists-->
    <ul id="dropdown1" class=" dropdown-content">
          <li><a class="blue-text text-lighten-1" href="#!">one</a></li>
          <li><a  class="blue-text text-lighten-1" href="#!">two</a></li>
          <li><a class="blue-text text-lighten-1" href="#!">three</a></li>
    </ul>
    <ul id="dropdown2" class=" dropdown-content">
          <li><a class="blue-text text-lighten-1" href="#!">four</a></li>
          <li><a  class="blue-text text-lighten-1" href="#!">five</a></li>
          <li><a class="blue-text text-lighten-1" href="#!">three</a></li>
    </ul>
    <ul id="dropdown3" class=" dropdown-content">
        <li><a class="blue-text text-lighten-1" href="#!">six</a></li>
        <li><a  class="blue-text text-lighten-1" href="#!">two</a></li>
        <li><a class="blue-text text-lighten-1" href="#!">three</a></li>
    </ul>
    <ul id="dropdown4" class=" dropdown-content">
        <li><a class="blue-text text-lighten-1" href="#!">one</a></li>
        <li><a  class="blue-text text-lighten-1" href="#!">two</a></li>
        <li><a class="blue-text text-lighten-1" href="#!">three</a></li>
    </ul>
    <ul id="dropdown5" class=" dropdown-content">
        <li><a class="blue-text text-lighten-1" href="#!">one</a></li>
        <li><a  class="blue-text text-lighten-1" href="#!">two</a></li>
        <li><a class="blue-text text-lighten-1" href="#!">three</a></li>
    </ul>
    <ul id="dropdown6" class=" dropdown-content">
        <li><a class="blue-text text-lighten-1" href="#!">one</a></li>
        <li><a  class="blue-text text-lighten-1" href="#!">two</a></li>
        <li><a class="blue-text text-lighten-1" href="#!">three</a></li>
    </ul>
    <ul id="dropdown7" class=" dropdown-content">
        <li><a class="blue-text text-lighten-1" href="#!">one</a></li>
        <li><a  class="blue-text text-lighten-1" href="#!">two</a></li>
        <li><a class="blue-text text-lighten-1" href="#!">three</a></li>
    </ul>
    <div class="navbar-fixed">
      <nav class="nav-extended light-blue darken-4" >
          <div class="nav-wrapper light-blue darken-4">
              <div class="row">
                  <!--<div class="col s3" >
                      <div class="col s12 "><img class="logo" src="logo.png"  ></div>
                  </div>-->
              <div class="col s12">
                      <div class="row" >
                          <div class="col s12"style="height:12px;">
                              <ul id="nav-mobile" class="right hide-on-med-and-down" >
                                  <li><a href="/" style="font-size:11px;">Home</a></li>
                                  <li><a href="/" style="font-size:11px;">About Us</a></li>
                                  <li><a href="/" style="font-size:11px;">Careers</a></li>
                                  <li><a href="/" style="font-size:11px;">Track Order</a></li>
                                  <li><a href="/team" style="font-size:11px;">Team</a></li>

                                  <% if user_signed_in? %>
                                  	<% if current_user.role == 'seller' %>
	                                  	<li><a href="/products" style="font-size:11px;">Products</a></li>
	                                  	<li><a href="/stores" style="font-size:11px;">Stores</a></li>
	                                  <% end %>
	                                
  	                                <li><a href="/profile" style="font-size:11px;">Profile</a></li>
  	                                <li><a href="/signout" style="font-size:11px;">Logout</a></li>

                                  <% else %>
                                  	<li><a href="/signup" style="font-size:11px;">Sign Up</a></li>
                                  	<li><a href="/signin" style="font-size:11px;">Login</a></li>
                                  <% end %>
                              </ul>

                          </div>
                      </div>
                    <div class="row">
                          <div class="col s12">
                          <div class="col s3" >
                                <div class="col s12 "><img class="logo" src="/logo.png"  ></div>
                          </div>
                              <div class="col s6">
                              <form>
                                  <input type="text" name="search" id="search_form" placeholder="Search..">
                              </form>
                              <div id="search_results">
    
                              </div>
                              </div>
                              <div class="col s3">
                                 <a href="/cart" class="waves-effect white black-text btn"><i class="fa fa-shopping-cart" aria-hidden="true"></i><b> &nbsp;cart</b></a>
                              </div>
                          </div>
                    </div>
              </div>
              <!--<div class="container">-->
                  <div class="row">
                        <div class="col s12">
                        <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
                             <ul id="nav-mobile" class="right hide-on-med-and-down">
                                  <li><a class="dropdown-button" href="#!" data-activates="dropdown1" style="font-size:17px;"><b>ELECTRONICS</b></a></li>
                                  <li><a class="dropdown-button" href="#!" data-activates="dropdown2" style="font-size:17px;"><b>APPLIANCES</b></a></li>
                                  <li><a class="dropdown-button" href="#!" data-activates="dropdown3" style="font-size:17px;"><b>MEN</b></a></li>
                                  <li><a class="dropdown-button" href="#!" data-activates="dropdown4" style="font-size:17px;"><b>WOMEN</b></a></li>
                                  <li><a class="dropdown-button" href="#!" data-activates="dropdown5" style="font-size:17px;"><b>KIDS</b></a></li>
                                  <li><a class="dropdown-button" href="#!" data-activates="dropdown6" style="font-size:17px;"><b>FURNITURE</b></a></li>
                                  <li><a class="dropdown-button" href="#!" data-activates="dropdown7" style="font-size:17px;"><b>BOOKS</b></a></li>
                                   <li><a class="dropdown-button" href="#!" data-activates="dropdown1" style="font-size:17px;"><b>OTHERS</b></a></li>
                              </ul>
                              <ul class="side-nav" id="mobile-demo">
                                  <li class="no-padding">
                                      <ul class="collapsible collapsible-accordion">
                                          <li>
                                              <a class="collapsible-header" style="font-size:14px;">ELECTRONICS<i class="material-icons">arrow_drop_down</i></a>
                                              <div class="collapsible-body">
                                              <ul >
                                                    <li><a class="blue-text text-lighten-1" href="#!">one</a></li>
                                                    <li><a  class="blue-text text-lighten-1" href="#!">two</a></li>
                                                    <li><a class="blue-text text-lighten-1" href="#!">three</a></li>
                                              </ul>
                                              </div>
                                          </li>
                                      </ul>
                                  </li>
                                  <li class="no-padding">
                                      <ul class="collapsible collapsible-accordion">
                                          <li>
                                              <a class="collapsible-header" style="font-size:14px;">APPLIANCES<i class="material-icons">arrow_drop_down</i></a>
                                              <div class="collapsible-body">
                                              <ul >
                                                    <li><a class="blue-text text-lighten-1" href="#!">one</a></li>
                                                    <li><a  class="blue-text text-lighten-1" href="#!">two</a></li>
                                                    <li><a class="blue-text text-lighten-1" href="#!">three</a></li>
                                              </ul>
                                              </div>
                                          </li>
                                      </ul>
                                  </li>
                                  <li class="no-padding">
                                      <ul class="collapsible collapsible-accordion">
                                          <li>
                                              <a class="collapsible-header" style="font-size:14px;">MEN<i class="material-icons">arrow_drop_down</i></a>
                                              <div class="collapsible-body">
                                              <ul >
                                                    <li><a class="blue-text text-lighten-1" href="#!">one</a></li>
                                                    <li><a  class="blue-text text-lighten-1" href="#!">two</a></li>
                                                    <li><a class="blue-text text-lighten-1" href="#!">three</a></li>
                                              </ul>
                                              </div>
                                          </li>
                                      </ul>
                                  </li>
                                  <li class="no-padding">
                                      <ul class="collapsible collapsible-accordion">
                                          <li>
                                              <a class="collapsible-header" style="font-size:14px;">WOMEN<i class="material-icons">arrow_drop_down</i></a>
                                              <div class="collapsible-body">
                                              <ul >
                                                    <li><a class="blue-text text-lighten-1" href="#!">one</a></li>
                                                    <li><a  class="blue-text text-lighten-1" href="#!">two</a></li>
                                                    <li><a class="blue-text text-lighten-1" href="#!">three</a></li>
                                              </ul>
                                              </div>
                                          </li>
                                      </ul>
                                  </li>
                                  <li class="no-padding">
                                      <ul class="collapsible collapsible-accordion">
                                          <li>
                                              <a class="collapsible-header" style="font-size:14px;">KIDS<i class="material-icons">arrow_drop_down</i></a>
                                              <div class="collapsible-body">
                                              <ul >
                                                    <li><a class="blue-text text-lighten-1" href="#!">one</a></li>
                                                    <li><a  class="blue-text text-lighten-1" href="#!">two</a></li>
                                                    <li><a class="blue-text text-lighten-1" href="#!">three</a></li>
                                              </ul>
                                              </div>
                                          </li>
                                      </ul>
                                  </li>
                                  <li class="no-padding">
                                      <ul class="collapsible collapsible-accordion">
                                          <li>
                                              <a class="collapsible-header" style="font-size:14px;">FURNITURE<i class="material-icons">arrow_drop_down</i></a>
                                              <div class="collapsible-body">
                                              <ul >
                                                    <li><a class="blue-text text-lighten-1" href="#!">one</a></li>
                                                    <li><a  class="blue-text text-lighten-1" href="#!">two</a></li>
                                                    <li><a class="blue-text text-lighten-1" href="#!">three</a></li>
                                              </ul>
                                              </div>
                                          </li>
                                      </ul>
                                  </li>
                                  <li class="no-padding">
                                      <ul class="collapsible collapsible-accordion">
                                          <li>
                                              <a class="collapsible-header" style="font-size:14px;">BOOKS<i class="material-icons">arrow_drop_down</i></a>
                                              <div class="collapsible-body">
                                              <ul >
                                                    <li><a class="blue-text text-lighten-1" href="#!">one</a></li>
                                                    <li><a  class="blue-text text-lighten-1" href="#!">two</a></li>
                                                    <li><a class="blue-text text-lighten-1" href="#!">three</a></li>
                                              </ul>
                                              </div>
                                          </li>
                                      </ul>
                                  </li>
                                  <li><a href="/login" style="font-size:14px;">OTHERS</a></li>
      </ul>
                             <!-- <div class="col s2"><a class="dropdown-button" href="#!" data-activates="dropdown1"></a></div>
                              <div class="col s2"><a class="dropdown-button" href="#!" data-activates="dropdown2"></a></div>
                              <div class="col s1"><a class="dropdown-button" href="#!" data-activates="dropdown3"></a></div>
                              <div class="col s2"><a class="dropdown-button" href="#!" data-activates="dropdown4"></a></div>
                              <div class="col s1"><a class="dropdown-button" href="#!" data-activates="dropdown5"></a></div>
                              <div class="col s2"><a class="dropdown-button" href="#!" data-activates="dropdown6"></a></div>
                              <div class="col s1"><a class="dropdown-button" href="#!" data-activates="dropdown7"></a></div>
                              <div class="col s1">OTHERS</a></div>-->
                        </div>
                  </div>
              <!--</div>-->
              </div>
          </div>
      </nav>
    </div>
    
    <% if flash[:notice] %>
      <% notice = flash[:notice] %>
    	<script type="text/javascript">
        noty({
          text: '<%= notice %>', 
          type: 'alert'
        });
      </script>
    <% end %>

<%= yield %>

<footer class="page-footer light-blue darken-2">
      <div class="container">
          <div class="row" >
              <div class="col l4 s12">
                  <ul>
                      <li><p class="cyan-text text-lighten-4" style="font-size:20px;"><b>HELP</b></p></li>
                      <li><a class="grey-text text-lighten-3" href="#!">Payments</a></li>
                      <li><a class="grey-text text-lighten-3" href="#!">Saved Cards</a></li>
                      <li><a class="grey-text text-lighten-3" href="#!">Shipping</a></li>
                      <li><a class="grey-text text-lighten-3" href="#!">Cancellation and Returns</a></li>
                      <li><a class="grey-text text-lighten-3" href="#!">FAQ</a></li>
                      <li><a class="grey-text text-lighten-3" href="#!">Report Infringement</a></li>
                  </ul>
              </div>
              <div class="col l3 s12">
                  <ul>
                      <li><p class="cyan-text text-lighten-4" style="font-size:20px;"><b>SHOPCLIX</b></p></li>
                      <li><a class="grey-text text-lighten-3" href="#!">Contact Us</a></li>
                      <li><a class="grey-text text-lighten-3" href="#!">Careers</a></li>
                      <li><a class="grey-text text-lighten-3" href="#!">Stories</a></li>
                      <li><a class="grey-text text-lighten-3" href="#!">Press</a></li>
                      <li><a class="grey-text text-lighten-3" href="#!">Sell on Shopclix</a></li>
                      <li><a class="grey-text text-lighten-3" href="#!">Terms of Use</a></li>
                      <li><a class="grey-text text-lighten-3" href="#!">Security</a></li>
                     
                  </ul>
              </div>
              <div class="col l5  s12">
                  <div class="grey-text text-lighten-3"><h5 class="cyan-text text-lighten-4" style="font-size:20px;"><b>ABOUT US</b></h5>
                      <p> Shopclix is an ecommerce website where buyer and seller can contact directly only for better mutual understanding. We provide you a complete help of getting you online and sell your products. Our focus is Building an Online Brand for every Indian Retailer and get them on the cloud. <a href="">Read More</a></p>
                  </div>
              </div>
          </div>
      </div>
      <div class="row">
          <div class="col s12">
              <div class="footer-copyright center">
                  <div class="container">
                    
                      Â© SHOPCLIX
                      
                  <div class="right">
                         <i class="fa fa-facebook-square fa-2x" aria-hidden="true"></i>
                          <i class="fa fa-twitter-square fa-2x" aria-hidden="true"></i>
                          <i class="fa fa-google-plus-square fa-2x" aria-hidden="true"></i>
                  </div>
                  </div>
              </div>
          </div>
     </div>
  </footer>
  
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/js/materialize.js"></script> 
<script type="text/javascript">
    $('.dropdown-button').dropdown({
          inDuration: 300,
          outDuration: 225,
          constrain_width: false, // Does not change width of dropdown to that of the activator
          hover: true, // Activate on hover
          gutter: 0, // Spacing from edge
          belowOrigin: true, // Displays dropdown below the button
          alignment: 'left' // Displays dropdown with edge aligned to the left of button
        }
      );
    var search_form = document.getElementById('search_form');
  if(search_form)
  { search_form.addEventListener('keydown', function(){
      console.log('hello');
      var search_results = document.getElementById('search_results')
      if(search_form.value.length > 0)
      {
        var url = '/search'
        var info = {
          search: search_form.value
        }

        search_results.style.display = 'block'

        $.ajax({
          url: url,
          method: 'post',
          data: info,
          success: function(search_items){
            console.log(search_items);
            while (search_results.firstChild) 
            { search_results.removeChild(search_results.firstChild);
            }

            for(var i=0; i<search_items.length; i++)
            { var child = document.createElement('div')
            
              var text = document.createTextNode(search_items[i].name)

              child.appendChild(text);
              search_results.appendChild(child)
              child.addEventListener('click', function(){
                search_form.value = this.innerHTML
              })
            }
          },
          error: function(){
            alert("Error")
          }
        })
      }
      else
      {
        search_results.style.display = 'none'
      }
    })
  }

  // search_form.addEventListener('focus', function(){
  //  this.style.border = '0px';
  //  console.log("focussed")
  // })

  var search_results = document.getElementById('search_results')
  if(search_results)
  { 
    search_results.addEventListener('click', function(){
      this.style.display = 'none'
    })

    document.body.addEventListener('click', function(event){
      var search_results = document.getElementById('search_results')  
      var x = $("#search_results").position();

      if((event.clientX < x.left || event.clientX > x.left + search_results.clientWidth) || (event.clientY < x.top || event.clientY > x.top + search_results.clientHeight))
      search_results.style.display = 'none'
      
    })
  }
</script>
</body>
</html>
